{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var spriteCreator = require(\"spriteCreator\");\nvar perfectLabel = require(\"perfectLabel\");\nvar storageManager = require(\"storageManager\");\nvar fsm = new StateMachine({\n    data:{\n        gameDirector:null,\n    },\n    init: 'stand',\n    transitions:[\n        {name:'stickLengthen',from:'stand',to:'stickLengthened'},\n        {name:'heroTick',from:'stickLengthened',to:'heroTicked'},\n        {name:'stickFall',from:'heroTicked',to:'stickFalled'},\n        {name:'heroMoveToLand',from:'stickFalled',to:'heroMovedToLand'},\n        {name:'landMove',from:'heroMovedToLand',to:'stand'},\n        {name:'heroMoveToStickEnd',from:'stickFalled',to:'heroMovedToStickEnd'},\n        {name:'heroDown',from:'heroMovedToStickEnd',to:'heroDowned'},\n        {name:'gameOver',from:'heroDowned',to:'end'},\n        {name:'restart',from:'end',to:'stand'},\n    ],\n    methods:{\n        onLeaveHeroTicked(){\n            gameDirector.unregisterEvent();\n        },\n        onStickLengthen(){\n            gameDirector.stickLengthen = true;\n            gameDirector.stick = gameDirector.createStick();\n            gameDirector.stick.x = gameDirector.hero.x + gameDirector.hero.width * (1-gameDirector.hero.anchorX) + gameDirector.stick.width * gameDirector.stick.anchorX;\n            var ani = gameDirector.hero.getComponent(cc.Animation);\n            ani.play('heroPush');\n        },\n        onHeroTick(){\n            gameDirector.stickLengthen = false;\n            var ani = gameDirector.hero.getComponent(cc.Animation);\n            ani.play('heroTick');\n        },\n        onStickFall(){\n            //stick fall action.\n            var stickFall = cc.rotateBy(0.5, 90);\n            stickFall.easing(cc.easeIn(3));\n            var callFunc = cc.callFunc(function(){\n                var stickLength = gameDirector.stick.height-gameDirector.stick.width * gameDirector.stick.anchorX;\n                if(stickLength < gameDirector.currentLandRange || stickLength > gameDirector.currentLandRange+gameDirector.secondLand.width){//failed.\n                    fsm.heroMoveToStickEnd();\n                }else{//successed\n                    fsm.heroMoveToLand();\n                    if(stickLength > gameDirector.currentLandRange + gameDirector.secondLand.width/2-5 \n                        &&stickLength < gameDirector.currentLandRange + gameDirector.secondLand.width/2+5){\n                        gameDirector.perfect ++;\n                        gameDirector.getScore(gameDirector.perfect);\n                        var pl = gameDirector.perfectLabel.getComponent(perfectLabel);\n                        pl.showPerfect(gameDirector.perfect);\n                    }else{\n                        gameDirector.perfect = 0;\n                    }\n                }\n            });\n            var se =cc.sequence(stickFall,callFunc);\n            gameDirector.stick.runAction(se);\n        },\n        onHeroMoveToLand(){\n            var ani = gameDirector.hero.getComponent(cc.Animation);\n            var callFunc = cc.callFunc(function(){\n                ani.stop('heroRun');\n                gameDirector.getScore();\n                fsm.landMove();\n            });\n            ani.play('heroRun');\n            gameDirector.heroMove(gameDirector.hero,{length:gameDirector.currentLandRange+gameDirector.secondLand.width,callFunc:callFunc});\n        },\n        onLandMove(){\n            var callFunc = cc.callFunc(function(){\n                gameDirector.registerEvent();\n            });\n            gameDirector.landCreateAndMove(callFunc);\n        },\n        onHeroMoveToStickEnd(){\n            var ani = gameDirector.hero.getComponent(cc.Animation);\n            var callFunc = cc.callFunc(function(){\n                ani.stop('heroRun');\n                fsm.heroDown();\n            });\n            ani.play('heroRun');\n            gameDirector.heroMove(gameDirector.hero,{length:gameDirector.stick.height,callFunc:callFunc});\n        },\n        onHeroDown(){\n             var callFunc = cc.callFunc(function(){\n                fsm.gameOver();\n            });\n            gameDirector.stickAndHeroDownAction(callFunc);\n        },\n        onGameOver(){\n            gameDirector.overLabel.node.active = true;\n        },\n        onRestart(){\n            cc.director.loadScene(\"MainGameScene\");\n        }\n    }\n});\nvar gameDirector = null;\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        landRange:cc.v2(20,300),\n        landWidth:cc.v2(20,200),\n        hero:cc.Node,\n        firstLand:cc.Node,\n        secondLand:cc.Node,\n        moveDuration:0.5,\n        stickSpeed:400,\n        heroMoveSpeed:400,\n        // stick:cc.Node,\n        // stickLengthen:false,\n        stickWidth:6,\n        canvas:cc.Node,\n        scoreLabel:cc.Label,\n        hightestScoreLabel:cc.Label,\n        overLabel:cc.Label,\n        perfectLabel:cc.Node\n    },\n    onLoad: function () {\n        //init data\n        // alert(storageManager.getHighestScore());\n        gameDirector = this;\n        this.runLength = 0,\n        this.stick = null;\n        this.stickLengthen = false;\n        this.score = 0;\n        this.perfect = 0;\n        this.currentLandRange = 0;\n        this.heroWorldPosX = 0;\n        this.changeHightestScoreLabel();\n\n        //create new land;\n        this.createNewLand();\n        var range = this.getLandRange();\n        this.heroWorldPosX = this.firstLand.width - (1-this.hero.anchorX) * this.hero.width - this.stickWidth;\n        this.secondLand.setPosition(range+this.firstLand.width,0);\n        \n        this.registerEvent();\n        //init hero animation callback.\n        var ani = gameDirector.hero.getComponent(cc.Animation);\n        ani.on('stop',(event)=>{\n            if(event.target.name =='heroTick'){\n                fsm.stickFall();\n            }\n        });\n    },\n    registerEvent(){\n        this.canvas.on(cc.Node.EventType.TOUCH_START, this.touchStart.bind(this), this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_END,this.touchEnd.bind(this), this.node);\n        this.canvas.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel.bind(this), this.node);\n        console.log(\"on\");\n    },\n    unregisterEvent(){\n        this.canvas.targetOff(this.node);\n        console.log(\"off\");\n    },\n    update(dt){\n        // console.log(dt);\n        if(this.stickLengthen){\n            this.stick.height += dt*this.stickSpeed;\n            // this.stick.height = this.currentLandRange + this.secondLand.width/2;\n        }\n    },\n    touchStart(event){\n        fsm.stickLengthen();\n        cc.log(\"touchStart\");\n    },\n    touchEnd(event){\n        fsm.heroTick();\n        cc.log(\"touchEnd\");\n    },\n    touchCancel(){\n        this.touchEnd();\n        cc.log(\"touchCancel\");\n    },\n    stickAndHeroDownAction(callFunc){\n        //stick down action;\n        var stickAction = cc.rotateBy(0.5, 90);\n        stickAction.easing(cc.easeIn(3));\n        this.stick.runAction(stickAction);\n        //hero down action;\n        var heroAction = cc.moveBy(0.5,cc.p(0,-300 - this.hero.height));\n        heroAction.easing(cc.easeIn(3));\n        var seq =cc.sequence(heroAction,callFunc);\n        this.hero.runAction(seq);\n    },\n    heroMove(target,data){\n        var time = data.length/this.heroMoveSpeed;\n        var heroMove = cc.moveBy(time,cc.p(data.length,0));\n        if(data.callFunc){\n            var se =cc.sequence(heroMove,data.callFunc);\n            this.hero.runAction(se);\n        }else{\n            this.hero.runAction(heroMove);\n        }\n    },\n    landCreateAndMove(callFunc) {\n        var winSize = cc.director.getWinSize();\n        //firstland;\n        var length = this.currentLandRange + this.secondLand.width;\n        this.runLength +=length;\n        var action = cc.moveBy(this.moveDuration,cc.p(-length,0));\n        this.node.runAction(action);\n        this.firstLand = this.secondLand;\n\n        this.createNewLand();\n\n        //landRange\n        var range = this.getLandRange();\n\n        //secondland;\n        this.secondLand.setPosition(this.runLength+winSize.width,0);\n        var l = winSize.width - range - this.heroWorldPosX - this.hero.width * this.hero.anchorX - this.stickWidth;\n        var secondAction = cc.moveBy(this.moveDuration,cc.p(-l,0));\n        var seq =cc.sequence(secondAction,callFunc);\n        this.secondLand.runAction(seq);\n    },\n    createStick(){\n        cc.log(\"sc\");\n        var stick = spriteCreator.createStick(this.stickWidth);\n        stick.parent = this.node;\n        return stick\n    },\n    createNewLand() {\n        this.secondLand = spriteCreator.createNewLand(this.getLandWidth());\n        this.secondLand.parent = this.node;\n    },\n    getScore(num){\n        if(num){\n            this.score += num;  \n        }else{\n            this.score++;\n        }\n        if(storageManager.getHighestScore()<this.score){\n            storageManager.setHighestScore(this.score);\n            this.changeHightestScoreLabel();\n        }\n        this.scoreLabel.string = \"得分:\"+this.score;\n    },\n    changeHightestScoreLabel(){\n        this.hightestScoreLabel.string = \"最高分:\" + storageManager.getHighestScore();\n    },\n    getLandRange(){\n        this.currentLandRange = this.landRange.x +(this.landRange.y - this.landRange.x)*Math.random();\n        var winSize = cc.director.getWinSize();\n        if(winSize.width < this.currentLandRange + this.heroWorldPosX + this.hero.width + this.secondLand.width){\n            this.currentLandRange = winSize.width - this.heroWorldPosX - this.hero.width - this.secondLand.width;\n        }\n        return this.currentLandRange;\n    },\n    getLandWidth(){\n        return this.landWidth.x + (this.landWidth.y - this.landWidth.x)* Math.random();\n    }\n});\nmodule.exports = fsm;"
  ]
}